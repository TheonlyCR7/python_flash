## 与html互动

路由函数的返回值可以是html代码

```python
from flask import Flask, make_response, request, session

app = Flask(__name__)

@app.route('/')
def index():
    return "Hello, World!"

@app.route('/index1')
def index1():
    return "<strong>Hello, World!</strong>"

if __name__ == "__main__":
    app.run()
```

![image-20250115181752935](https://s2.loli.net/2025/01/15/ZDhUC845EPoFcNn.png)

可以通过这个功能来修改html中的一些参数，实现页面的动态调整

一个例子

```python
@app.route('/index5')
def index5():
    session['username'] = 'LMC'
    article = {
        'title': 'Flask',
        'count': '2000'
    }
    return render_template('index4.html', article=article)
```

index4.html

```python
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jinja2</title>
</head>
<body>
    {# 这是jinja2模板引擎中注释的写法 #}
    <div>{{session.get('username')}}, 欢迎你登录木木手记</div>
    <div>文章的标题是: {{article.title}}</div>
    <div>文章的阅读量是：{{article.count}}</div>
</body>
</html>
```

![image-20250115191835411](https://s2.loli.net/2025/01/15/gXjrSpF7hNx2no6.png)





## jinja2基本语法

**Jinja2** 是 Flask 使用的默认模板引擎，其语法简洁强大，用于在 HTML 中动态生成内容

### if判断

### for循环

```html
{# 这是jinja2中的if判断 #}
{% if article.count > 1000 %}
<div>文章很受欢迎</div>
{% else %}
<div>文章还不够火爆</div>
{% endif %}   {# 记得结束endif #}
{# 这是jinja2中的for循环 #}

{% for tag in article %}
<div>{{tag}}</div>
{% endfor %}
```

![image-20250115192733602](https://s2.loli.net/2025/01/15/NEDPQfRl9dvtHxj.png)

关于注释

```
因为html作为字符串直接传给flask
所以在html<!---->注释中若出现 {{}}
可能导致报错
<!--{{}}-->
```



## 认识jinji2中过滤器

https://www.cnblogs.com/lmc7/p/18673646